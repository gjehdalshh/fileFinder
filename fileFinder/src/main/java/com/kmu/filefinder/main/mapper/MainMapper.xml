<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kmu.filefinder.main.mapper.MainMapper">
	<insert id="createCategory">
		INSERT INTO category (category_nm, category_order,
		category_top, category_path) VALUE (#{category_nm}, #{category_order},
		#{category_top}, #{category_path});
	</insert>

	<select id="getCategoryList" resultType="CategoryDAO">
		SELECT i_category,
		category_nm, category_order, category_top FROM category;
	</select>

	<select id="getCategoryByNm" resultType="CategoryDAO">
		SELECT i_category, category_nm, category_order FROM category
		WHERE category_nm = #{nm};
	</select>
	
	<select id="getCategoryPathByIcategory" resultType="string">
		SELECT
		category_path FROM category WHERE i_category = #{i_category};
	</select>

	<select id="getCategoryNmByTop" resultType="string">
		SELECT category_nm FROM category WHERE i_category = #{category_top};
	</select>
	
	<delete id="deleteSmallCategory">
		DELETE FROM category WHERE i_category = #{i_category}; 
	</delete>
	
	<delete id="deleteLargeCategory">
		DELETE FROM category WHERE category_top = #{i_category}; 
	</delete>
</mapper>